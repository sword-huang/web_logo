
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Title of the document</title>
</head>

<body>
    <h1>Web Logo</h1>
    <div id="app">
        <span>Angle: {{ angle }}</span>, X:<span>{{ x }}</span>, Y:<span>{{ y }}</span>
    </div>
    <input  type="text" name="input_cmd" id="input_cmd" size=120>
    <button id="send" onclick="send()">Send</button>

    <div>
        <canvas id="myCanvas" width="800" height="600" style="border:1px solid #c3c3c3;">Your browser does not support the canvas element.</canvas>
    </div>
<script src="vue.min.js"></script>
<script src="web_logo.js"></script>

<script>
    var width=800, height=600, x, y, d;
    var now_x=400, now_y=300, c="(0,0,0)", pc="(0,0,0)";

    var app = new Vue({
    	el: '#app',
    	data: {
    		message: 'Hello Vue!',
    		angle: 90,
    		x: 400,
    		y: 300
    	}
    })

    d=app.angle*Math.PI/180;
    x=app.x;
    y=app.y;
    
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    ctx.fillStyle = "rgb"+pc;
    //ctx.fillRect(0,0,150,75);
    ctx.moveTo(app.x, app.y);

    document.getElementById("input_cmd").addEventListener("keyup", function(event) {
        event.preventDefault();
        if (event.keyCode == 13) {
            document.getElementById("send").click();
        }
    });

    function send()
    {
        var input_cmd = document.getElementById("input_cmd");
        var cmd=input_cmd.value;
        var now_X,now_y;

        // alert(cmd);
        var res = cmd.split(" ");
        if(res[0]=="fd" || res[0]=="forward")
        	forward(res[1]);
        if(res[0]=="bk" || res[0]=="back")
        	back(res[1]);
        else if(res[0]=="lt" || res[0]=="left")
        	left(res[1]);
        else if(res[0]=="rt" || res[0]=="right")
        	right(res[1]);
        else if(res[0]=="pu" || res[0]=="penup")
        	pu();
        else if(res[0]=="pd" || res[0]=="pendown")
        	pd();
        else if(res[0]=="pe" || res[0]=="penerase")
        {
            pc="(255,255,255)";

            ctx.beginPath();
            ctx.moveTo(x,y);
            ctx.strokeStyle = 'rgb'+pc;
            ctx.stroke(); 
        }
        else if(res[0]=="setpc")
        	setpc(res[1]);
        else if(res[0]=="cs")
        {
            canvas.width = canvas.width; 
            ctx.moveTo(x,y);
        }
        else if(res[0]=="home")
        	home();
        else if(res[0]=="setx")
        	setx(res[1]);
        else if(res[0]=="sety")
        	sety(res[1]);
        else if(res[0]=="seth" || res[0]=="sethead")
        	seth(res[1]);
        else if(res[0]=="ulb")
        	ulb(res[1]);
        else if(res[0]=="urb")
        	urb(res[1]);
        else if(res[0]=="dlb")
        	dlb(res[1]);
        else if(res[0]=="drb")
        	drb(res[1]);
        else if(res[0]=="cb")
        	cb(res[1]);
        else if(res[0]=="cc" || res[0]=="circle")
        	cc(parseInt(res[1]));
        else if(res[0]=="lc")
        	lc(parseInt(res[1]));
        else if(res[0]=="rc")
        	rc(parseInt(res[1]));
        else if(res[0]=="uc")
        	uc(parseInt(res[1]));
        else if(res[0]=="dc")
        	dc(parseInt(res[1]));

        if(x>width)
        	x=x-width;
        else if(x<=0)
        	x=x+width;
        x=Math.round(x);

        if(y>height)
        	y=y-height;
        else if(y<0)
        	y=y+height;
        y=Math.round(y);

        if(d>=2*Math.PI)
        	d=d-2*Math.PI;
        else if(d<=0)
        	d=d+2*Math.PI;

        now_x=x;
        now_y=y;

        app.angle=Math.round(d/Math.PI*180);
		app.x=x;
		app.y=y;
		
        input_cmd.value="";
    }
</script>

</body>
</html> 