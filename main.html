
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Title of the document</title>
</head>

<body>
    <h1>Web Logo</h1>
    <div>
        <span id="show_direct"></span>,<span id="show_x"></span>:<span id="show_y"></span>
    </div>
    <input  type="text" name="input_cmd" id="input_cmd" size=120>
    <button id="send" onclick="send()">Send</button>

    <div>
        <canvas id="myCanvas" width="800" height="600" style="border:1px solid #c3c3c3;">Your browser does not support the canvas element.</canvas>
    </div>

<script>
    var width=800, height=600;
    var x=400,y=300, now_x=400, now_y=300,d=Math.PI/2, c="(255,255,255)", pc="(0,0,0)";

    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    ctx.fillStyle = "rgb"+pc;
    //ctx.fillRect(0,0,150,75);
    ctx.moveTo(x,y);

    show_info();

    document.getElementById("input_cmd").addEventListener("keyup", function(event) {
        event.preventDefault();
        if (event.keyCode == 13) {
            document.getElementById("send").click();
        }
    });

    function show_info()
    {
        var show_direct = document.getElementById("show_direct");
        var show_x = document.getElementById("show_x");
        var show_y = document.getElementById("show_y");

        show_direct.innerText=d/Math.PI*180;
        show_x.innerText=x;
        show_y.innerText=y;
    }

    function draw()
    {
        if(pc!="")
            ctx.lineTo(x,y);
        else
            ctx.moveTo(x,y);
        ctx.stroke(); 
    }

    function send()
    {
        var input_cmd = document.getElementById("input_cmd");
        var cmd=input_cmd.value;
        var now_X,now_y;

        // alert(cmd);
        var res = cmd.split(" ");
        if(res[0]=="fd" || res[0]=="forward")
        {
            x=x+res[1]*Math.cos(d);
            y=y-res[1]*Math.sin(d);
            draw();
        }
        if(res[0]=="bk" || res[0]=="back")
        {
            x=x-res[1]*Math.cos(d);
            y=y+res[1]*Math.sin(d);
            draw();
        }
        else if(res[0]=="lt" || res[0]=="left")
        {
            d=d+(Math.PI/180)*res[1];
        }
        else if(res[0]=="rt" || res[0]=="right")
        {
            d=d-(Math.PI/180)*res[1];
        }
        else if(res[0]=="pu" || res[0]=="penup")
        {
            pc="";
        }
        else if(res[0]=="pd" || res[0]=="pendown")
        {
            pc=c;

            ctx.beginPath();
            ctx.moveTo(x,y);
            ctx.strokeStyle = 'rgb'+pc;
            ctx.stroke(); 
        }
        else if(res[0]=="pe" || res[0]=="penerase")
        {
            pc="(255,255,255)";

            ctx.beginPath();
            ctx.moveTo(x,y);
            ctx.strokeStyle = 'rgb'+pc;
            ctx.stroke(); 
        }
        else if(res[0]=="setpc")
        {
            pc=res[1];

            ctx.beginPath();
            ctx.moveTo(x,y);
            ctx.strokeStyle = 'rgb'+pc;
            ctx.stroke(); 
        }
        else if(res[0]=="cs")
        {
            canvas.width = canvas.width; 
            ctx.moveTo(x,y);
        }
        else if(res[0]=="home")
        {
            x=400;
            y=300;
            ctx.moveTo(x,y);
        }
        else if(res[0]=="setx")
        {
            x=parseInt(res[1]);
            ctx.moveTo(x,y);
        }
        else if(res[0]=="sety")
        {
            y=parseInt(res[1]);
            ctx.moveTo(x,y);
        }
        else if(res[0]=="seth" || res[0]=="sethead")
        {
            d=Math.PI/180*res[1];
        }
        else if(res[0]=="box")
        {
            x=x+parseInt(res[1]);
            d=d+(Math.PI/180)*90;
            draw();
            
            y=y-parseInt(res[1]);
            d=d+(Math.PI/180)*90;
            draw();

            x=x-parseInt(res[1]);
            d=d+(Math.PI/180)*90;
            draw();

            y=y+parseInt(res[1]);
            d=d+(Math.PI/180)*90;
            draw();
        }
        else if(res[0]=="cb")
        {
        	var r;
            r=parseInt(res[1]);
        	x=x+r/2;
        	y=y+r/2;
        	ctx.moveTo(x,y);
        	
            y=y-r;
            draw();

            x=x-r;
            draw();

            y=y+r;
            draw();

            x=x+r;
            draw();

        	x=x-r/2;
        	y=y-r/2;
        	ctx.moveTo(x,y);
        }
        else if(res[0]=="cc" || res[0]=="circle")
        {
        	var s,r;
        	r=parseInt(res[1]);
        	s=Math.PI*2*r/360;
        	
        	x=x+r;
        	ctx.moveTo(x,y);
        	
        	for (i = 0; i < 360; i++) {
                d=d+(Math.PI/180);
                x=x+s*Math.cos(d);
                y=y-s*Math.sin(d);
                draw();
        	} 
        	x=x-r;
        	ctx.moveTo(x,y);
        }

        show_info();
        
        now_x=x;
        now_y=y;

        input_cmd.value="";
    }
</script>

</body>
</html> 